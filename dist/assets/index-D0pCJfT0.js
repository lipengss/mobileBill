import{d as Nt,C as Gt,D as le,H as Be,N as da,z as pn,r as He,e as hr,O as fn,k as vr,l as mn,B as dr,a as fe,L as se,G as gr,I as yn,P as xn,E as pr,M as bn,F as _n,Q as Sn,_ as An}from"./index-Cd87UJWp.js";import{u as wn,f as Cn,C as Dn,c as Mn,s as Tn,d as fr}from"./index-BThEjSAm.js";import{_ as O,c as ga,e as C,S as Zt,i as et,P as pa,a as mr,b as tt,d as Q,m as F,p as Ln,t as In,f as ue,u as re,s as fa,l as Rn,r as St,G as ae,g as Pn,h as Ve,C as ma,j as ya,k as rt,R as $,n as H,o as xa,q as Wt,v as On,w as kn,x as ba,y as _a,z as En,A as Bn,B as z,D as Vn,E as zn,F as Nn,H as Gn,I as at,J as W,K as ze,L as X,M as At,N as Zn,O as Wn,Q as Fn,Z as ce,T as Ft,U as Hn,V as Yn,W as Xn,X as Un,Y as $n,$ as k,a0 as Kn,a1 as jn,a2 as qn,a3 as Jn,a4 as nt,a5 as Qn,a6 as we,a7 as K,a8 as yr,a9 as qe,aa as Sa,ab as ee,ac as j,ad as Aa,ae as wa,af as Ca,ag as Ht,ah as ei,ai as ti,aj as ne,ak as Da,al as Ma,am as Ta,an as q,ao as ie,ap as ri,aq as Je,ar as Yt,as as Xt,at as Oe,au as ai,av as ni,aw as ii,ax as be,ay as oi,az as si,aA as La,aB as li,aC as xr,aD as br,aE as Ia,aF as ui,aG as Ra,aH as _e,aI as ci,aJ as hi,aK as vi,aL as _r,aM as Pa,aN as Sr,aO as Oa,aP as di,aQ as gi,aR as pi,aS as fi,aT as mi,aU as wt,aV as ka,aW as yi,aX as Ct,aY as xi,aZ as Ea,a_ as bi,a$ as _i,b0 as Ba,b1 as Si,b2 as Ai,b3 as Ar,b4 as wi,b5 as Ci,b6 as Di}from"./install-BU3gX-ry.js";import{f as Mi,E as Ti,a as Li,S as Ii,P as wr,b as Cr}from"./index-4to1e9Tt.js";import{u as Ri,f as Pi}from"./filterData-B2Oyff1K.js";import{C as Oi}from"./index-Bw6foqT1.js";function ke(){return{hexToRgb:n=>{let i="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(n))return console.warn("输入错误的hex"),"";n=n.replace("#",""),i=n.match(/../g);for(let s=0;s<3;s++)i[s]=parseInt(i[s],16);return i},rgbToHex:(n,i,o)=>{let s=/^\d{1,3}$/;if(!s.test(n)||!s.test(i)||!s.test(o))return console.warn("输入错误的rgb颜色值"),"";let l=[n.toString(16),i.toString(16),o.toString(16)];for(let u=0;u<3;u++)l[u].length==1&&(l[u]=`0${l[u]}`);return`#${l.join("")}`},getDarkColor:(n,i)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(n))return console.warn("输入错误的hex颜色值"),"";let s=ke().hexToRgb(n);for(let l=0;l<3;l++)s[l]=Math.floor(s[l]*(1-i));return ke().rgbToHex(s[0],s[1],s[2])},getLightColor:(n,i)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(n))return console.warn("输入错误的hex颜色值"),"";let s=ke().hexToRgb(n);for(let l=0;l<3;l++)s[l]=Math.floor((255-s[l])*i+s[l]);return ke().rgbToHex(s[0],s[1],s[2])}}}var Dt=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return ga(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),s=i.dataToPoint(o);if(n)C(i.getAxes(),function(d,g){if(d.type==="category"&&r!=null){var v=d.getTicksCoords(),p=d.getTickModel().get("alignWithLabel"),f=o[g],y=r[g]==="x1"||r[g]==="y1";if(y&&!p&&(f+=1),v.length<2)return;if(v.length===2){s[g]=d.toGlobalCoord(d.getExtent()[y?1:0]);return}for(var m=void 0,x=void 0,b=1,_=0;_<v.length;_++){var S=v[_].coord,w=_===v.length-1?v[_-1].tickValue+b:v[_].tickValue;if(w===f){x=S;break}else if(w<f)m=S;else if(m!=null&&w>f){x=(S+m)/2;break}_===1&&(b=w-v[0].tickValue)}x==null&&(m?m&&(x=v[v.length-1].coord):x=v[0].coord),s[g]=d.toGlobalCoord(x)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;s[h]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Zt);Zt.registerClass(Dt);var ki=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return ga(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,n){return n.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=et(Dt.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Dt),Ei=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Dr=function(a){O(t,a);function t(e){var r=a.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new Ei},t.prototype.buildPath=function(e,r){var n=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,h=r.endAngle,d=r.clockwise,g=Math.PI*2,v=d?h-c<g:c-h<g;v||(c=h-(d?g:-g));var p=Math.cos(c),f=Math.sin(c),y=Math.cos(h),m=Math.sin(h);v?(e.moveTo(p*o+n,f*o+i),e.arc(p*u+n,f*u+i,l,-Math.PI+c,c,!d)):e.moveTo(p*s+n,f*s+i),e.arc(n,i,s,c,h,!d),e.arc(y*u+n,m*u+i,l,h-Math.PI*2,h-Math.PI,!d),o!==0&&e.arc(n,i,o,h,c,d)},t}(pa);function Bi(a,t){t=t||{};var e=t.isRoundCap;return function(r,n,i){var o=n.position;if(!o||o instanceof Array)return mr(r,n,i);var s=a(o),l=n.distance!=null?n.distance:5,u=this.shape,c=u.cx,h=u.cy,d=u.r,g=u.r0,v=(d+g)/2,p=u.startAngle,f=u.endAngle,y=(p+f)/2,m=e?Math.abs(d-g)/2:0,x=Math.cos,b=Math.sin,_=c+d*x(p),S=h+d*b(p),w="left",A="top";switch(s){case"startArc":_=c+(g-l)*x(y),S=h+(g-l)*b(y),w="center",A="top";break;case"insideStartArc":_=c+(g+l)*x(y),S=h+(g+l)*b(y),w="center",A="bottom";break;case"startAngle":_=c+v*x(p)+Ye(p,l+m,!1),S=h+v*b(p)+Xe(p,l+m,!1),w="right",A="middle";break;case"insideStartAngle":_=c+v*x(p)+Ye(p,-l+m,!1),S=h+v*b(p)+Xe(p,-l+m,!1),w="left",A="middle";break;case"middle":_=c+v*x(y),S=h+v*b(y),w="center",A="middle";break;case"endArc":_=c+(d+l)*x(y),S=h+(d+l)*b(y),w="center",A="bottom";break;case"insideEndArc":_=c+(d-l)*x(y),S=h+(d-l)*b(y),w="center",A="top";break;case"endAngle":_=c+v*x(f)+Ye(f,l+m,!0),S=h+v*b(f)+Xe(f,l+m,!0),w="left",A="middle";break;case"insideEndAngle":_=c+v*x(f)+Ye(f,-l+m,!0),S=h+v*b(f)+Xe(f,-l+m,!0),w="right",A="middle";break;default:return mr(r,n,i)}return r=r||{},r.x=_,r.y=S,r.align=w,r.verticalAlign=A,r}}function Vi(a,t,e,r){if(tt(r)){a.setTextConfig({rotation:r});return}else if(Q(t)){a.setTextConfig({rotation:0});return}var n=a.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:a.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),a.setTextConfig({rotation:c})}function Ye(a,t,e){return t*Math.sin(a)*(e?-1:1)}function Xe(a,t,e){return t*Math.cos(a)*(e?1:-1)}function Ee(a,t,e){var r=a.get("borderRadius");if(r==null)return e?{cornerRadius:0}:null;Q(r)||(r=[r,r,r,r]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:F(r,function(i){return Ln(i,n)})}}var ct=Math.max,ht=Math.min;function zi(a,t){var e=a.getArea&&a.getArea();if(ya(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var Ni=function(a){O(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,n):this._renderNormal(e,r,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){In(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,n,i){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis(),h;u.type==="cartesian2d"?h=c.isHorizontal():u.type==="polar"&&(h=c.dim==="angle");var d=e.isAnimationEnabled()?e:null,g=Gi(e,u);g&&this._enableRealtimeSort(g,s,n);var v=e.get("clip",!0)||g,p=zi(u,s);o.removeClipPath();var f=e.get("roundCap",!0),y=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),x=m.get("borderRadius")||0,b=[],_=this._backgroundEls,S=i&&i.isInitSort,w=i&&i.type==="changeAxisOrder";function A(M){var I=Ue[u.type](s,M),L=Ui(u,h,I);return L.useStyle(m.getItemStyle()),u.type==="cartesian2d"?L.setShape("r",x):L.setShape("cornerRadius",x),b[M]=L,L}s.diff(l).add(function(M){var I=s.getItemModel(M),L=Ue[u.type](s,M,I);if(y&&A(M),!(!s.hasValue(M)||!Rr[u.type](L))){var B=!1;v&&(B=Mr[u.type](p,L));var R=Tr[u.type](e,s,M,L,h,d,c.model,!1,f);g&&(R.forceLabelAnimation=!0),Pr(R,s,M,I,L,e,h,u.type==="polar"),S?R.attr({shape:L}):g?Lr(g,d,R,L,M,h,!1,!1):ue(R,{shape:L},e,M),s.setItemGraphicEl(M,R),o.add(R),R.ignore=B}}).update(function(M,I){var L=s.getItemModel(M),B=Ue[u.type](s,M,L);if(y){var R=void 0;_.length===0?R=A(I):(R=_[I],R.useStyle(m.getItemStyle()),u.type==="cartesian2d"?R.setShape("r",x):R.setShape("cornerRadius",x),b[M]=R);var Y=Ue[u.type](s,M),Z=za(h,Y,u);re(R,{shape:Z},d,M)}var P=l.getItemGraphicEl(I);if(!s.hasValue(M)||!Rr[u.type](B)){o.remove(P);return}var E=!1;if(v&&(E=Mr[u.type](p,B),E&&o.remove(P)),P?fa(P):P=Tr[u.type](e,s,M,B,h,d,c.model,!!P,f),g&&(P.forceLabelAnimation=!0),w){var N=P.getTextContent();if(N){var V=Rn(N);V.prevValue!=null&&(V.prevValue=V.value)}}else Pr(P,s,M,L,B,e,h,u.type==="polar");S?P.attr({shape:B}):g?Lr(g,d,P,B,M,h,!0,w):re(P,{shape:B},e,M,null),s.setItemGraphicEl(M,P),P.ignore=E,o.add(P)}).remove(function(M){var I=l.getItemGraphicEl(M);I&&St(I,e,M)}).execute();var D=this._backgroundGroup||(this._backgroundGroup=new ae);D.removeAll();for(var T=0;T<b.length;++T)D.add(b[T]);o.add(D),this._backgroundEls=b,this._data=s},t.prototype._renderLarge=function(e,r,n){this._clear(),kr(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),kr(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&Pn(e.coordinateSystem,!1,e),n=this.group;r?n.setClipPath(r):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,n){var i=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,n),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,n){var i=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=n(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:F(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,n){for(var i=n.scale,o=e.mapDimension(n.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(o,i.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:r(e.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var n=r.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,n,i){if(this._isOrderChangedWithinSameData(e,r,n)){var o=this._dataSort(e,n,r);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,n){var i=r.baseAxis,o=this._dataSort(e,i,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){St(i,e,Ve(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ma),Mr={cartesian2d:function(a,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var n=a.x+a.width,i=a.y+a.height,o=ct(t.x,a.x),s=ht(t.x+t.width,n),l=ct(t.y,a.y),u=ht(t.y+t.height,i),c=s<o,h=u<l;return t.x=c&&o>n?s:o,t.y=h&&l>i?u:l,t.width=c?0:s-o,t.height=h?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||h},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var n=ht(t.r,a.r),i=ct(t.r0,a.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},Tr={cartesian2d:function(a,t,e,r,n,i,o,s,l){var u=new $({shape:H({},r),z2:1});if(u.__dataIndex=e,u.name="item",i){var c=u.shape,h=n?"height":"width";c[h]=0}return u},polar:function(a,t,e,r,n,i,o,s,l){var u=!n&&l?Dr:rt,c=new u({shape:r,z2:1});c.name="item";var h=Va(n);if(c.calculateTextPosition=Bi(h,{isRoundCap:u===Dr}),i){var d=c.shape,g=n?"r":"endAngle",v={};d[g]=n?r.r0:r.startAngle,v[g]=r[g],(s?re:ue)(c,{shape:v},i)}return c}};function Gi(a,t){var e=a.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Lr(a,t,e,r,n,i,o,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?re:ue)(e,{shape:l},t,n,null);var c=t?a.baseAxis.model:null;(o?re:ue)(e,{shape:u},c,n)}function Ir(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var Zi=["x","y","width","height"],Wi=["cx","cy","r","startAngle","endAngle"],Rr={cartesian2d:function(a){return!Ir(a,Zi)},polar:function(a){return!Ir(a,Wi)}},Ue={cartesian2d:function(a,t,e){var r=a.getItemLayout(t),n=e?Hi(e,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*n/2,y:r.y+o*n/2,width:r.width-i*n,height:r.height-o*n}},polar:function(a,t,e){var r=a.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Fi(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function Va(a){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(a)}function Pr(a,t,e,r,n,i,o,s){var l=t.getItemVisual(e,"style");if(s){if(!i.get("roundCap")){var c=a.shape,h=Ee(r.getModel("itemStyle"),c,!0);H(c,h),a.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;a.setShape("r",u)}a.useStyle(l);var d=r.getShallow("cursor");d&&a.attr("cursor",d);var g=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",v=xa(r);Wt(a,v,{labelFetcher:i,labelDataIndex:e,defaultText:On(i.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:g});var p=a.getTextContent();if(s&&p){var f=r.get(["label","position"]);a.textConfig.inside=f==="middle"?!0:null,Vi(a,f==="outside"?g:f,Va(o),r.get(["label","rotate"]))}kn(p,v,i.getRawValue(e),function(m){return Bn(t,m)});var y=r.getModel(["emphasis"]);ba(a,y.get("focus"),y.get("blurScope"),y.get("disabled")),_a(a,r),Fi(n)&&(a.style.fill="none",a.style.stroke="none",C(a.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function Hi(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,n,i)}var Yi=function(){function a(){}return a}(),Or=function(a){O(t,a);function t(e){var r=a.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new Yi},t.prototype.buildPath=function(e,r){for(var n=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<n.length;c+=3)l[i]=u,l[o]=n[c+2],s[i]=n[c+i],s[o]=n[c+o],e.rect(s[0],s[1],l[0],l[1])},t}(pa);function kr(a,t,e,r){var n=a.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),l=a.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var c=new Or({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var h=new Or({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=i,h.largeDataIndices=o,h.barWidth=s,t.add(h),h.useStyle(n.getVisual("style")),h.style.stroke=null,Ve(h).seriesIndex=a.seriesIndex,a.get("silent")||(h.on("mousedown",Er),h.on("mousemove",Er)),e&&e.push(h)}var Er=En(function(a){var t=this,e=Xi(t,a.offsetX,a.offsetY);Ve(t).dataIndex=e>=0?e:null},30,!1);function Xi(a,t,e){for(var r=a.baseDimIdx,n=1-r,i=a.shape.points,o=a.largeDataIndices,s=[],l=[],u=a.barWidth,c=0,h=i.length/3;c<h;c++){var d=c*3;if(l[r]=u,l[n]=i[d+2],s[r]=i[d+r],s[n]=i[d+n],l[n]<0&&(s[n]+=l[n],l[n]=-l[n]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[c]}return-1}function za(a,t,e){if(ya(e,"cartesian2d")){var r=t,n=e.getArea();return{x:a?r.x:n.x,y:a?n.y:r.y,width:a?r.width:n.width,height:a?n.height:r.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:a?n.r0:i.r0,r:a?n.r:i.r,startAngle:a?i.startAngle:0,endAngle:a?i.endAngle:Math.PI*2}}}function Ui(a,t,e){var r=a.type==="polar"?rt:$;return new r({shape:za(t,e,a),silent:!0,z2:0})}function $i(a){a.registerChartView(Ni),a.registerSeriesModel(ki),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,z(Nn,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Vn("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,zn("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var Br=Math.PI*2,$e=Math.PI/180;function Na(a,t){return ze(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ga(a,t){var e=Na(a,t),r=a.get("center"),n=a.get("radius");Q(n)||(n=[0,n]);var i=X(e.width,t.getWidth()),o=X(e.height,t.getHeight()),s=Math.min(i,o),l=X(n[0],s/2),u=X(n[1],s/2),c,h,d=a.coordinateSystem;if(d){var g=d.dataToPoint(r);c=g[0]||0,h=g[1]||0}else Q(r)||(r=[r,r]),c=X(r[0],i)+e.x,h=X(r[1],o)+e.y;return{cx:c,cy:h,r0:l,r:u}}function Ki(a,t,e){t.eachSeriesByType(a,function(r){var n=r.getData(),i=n.mapDimension("value"),o=Na(r,e),s=Ga(r,e),l=s.cx,u=s.cy,c=s.r,h=s.r0,d=-r.get("startAngle")*$e,g=r.get("endAngle"),v=r.get("padAngle")*$e;g=g==="auto"?d-Br:-g*$e;var p=r.get("minAngle")*$e,f=p+v,y=0;n.each(i,function(Z){!isNaN(Z)&&y++});var m=n.getSum(i),x=Math.PI/(m||y)*2,b=r.get("clockwise"),_=r.get("roseType"),S=r.get("stillShowZeroSum"),w=n.getDataExtent(i);w[0]=0;var A=b?1:-1,D=[d,g],T=A*v/2;Gn(D,!b),d=D[0],g=D[1];var M=Za(r);M.startAngle=d,M.endAngle=g,M.clockwise=b;var I=Math.abs(g-d),L=I,B=0,R=d;if(n.setLayout({viewRect:o,r:c}),n.each(i,function(Z,P){var E;if(isNaN(Z)){n.setItemLayout(P,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:h,r:_?NaN:c});return}_!=="area"?E=m===0&&S?x:Z*x:E=I/y,E<f?(E=f,L-=f):B+=Z;var N=R+A*E,V=0,G=0;v>E?(V=R+A*E/2,G=V):(V=R+T,G=N-T),n.setItemLayout(P,{angle:E,startAngle:V,endAngle:G,clockwise:b,cx:l,cy:u,r0:h,r:_?W(Z,w,[h,c]):c}),R=N}),L<Br&&y)if(L<=.001){var Y=I/y;n.each(i,function(Z,P){if(!isNaN(Z)){var E=n.getItemLayout(P);E.angle=Y;var N=0,V=0;Y<v?(N=d+A*(P+1/2)*Y,V=N):(N=d+A*P*Y+T,V=d+A*(P+1)*Y-T),E.startAngle=N,E.endAngle=V}})}else x=L/B,R=d,n.each(i,function(Z,P){if(!isNaN(Z)){var E=n.getItemLayout(P),N=E.angle===f?f:Z*x,V=0,G=0;N<v?(V=R+A*N/2,G=V):(V=R+T,G=R+A*N-T),E.startAngle=V,E.endAngle=G,R+=A*N}})})}var Za=at();function ji(a){return{seriesType:a,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!(!r||!r.length)){var n=t.getData();n.filterSelf(function(i){for(var o=n.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var qi=Math.PI/180;function Vr(a,t,e,r,n,i,o,s,l,u){if(a.length<2)return;function c(p){for(var f=p.rB,y=f*f,m=0;m<p.list.length;m++){var x=p.list[m],b=Math.abs(x.label.y-e),_=r+x.len,S=_*_,w=Math.sqrt(Math.abs((1-b*b/y)*S)),A=t+(w+x.len2)*n,D=A-x.label.x,T=x.targetTextWidth-D*n;Wa(x,T,!0),x.label.x=A}}function h(p){for(var f={list:[],maxY:0},y={list:[],maxY:0},m=0;m<p.length;m++)if(p[m].labelAlignTo==="none"){var x=p[m],b=x.label.y>e?y:f,_=Math.abs(x.label.y-e);if(_>=b.maxY){var S=x.label.x-t-x.len2*n,w=r+x.len,A=Math.abs(S)<w?Math.sqrt(_*_/(1-S*S/w/w)):w;b.rB=A,b.maxY=_}b.list.push(x)}c(f),c(y)}for(var d=a.length,g=0;g<d;g++)if(a[g].position==="outer"&&a[g].labelAlignTo==="labelLine"){var v=a[g].label.x-u;a[g].linePoints[1][0]+=v,a[g].label.x=u}Fn(a,l,l+o)&&h(a)}function Ji(a,t,e,r,n,i,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<a.length;d++){var g=a[d].label;vt(a[d])||(g.x<t?(c=Math.min(c,g.x),l.push(a[d])):(h=Math.max(h,g.x),u.push(a[d])))}for(var d=0;d<a.length;d++){var v=a[d];if(!vt(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var g=v.label,p=v.linePoints,f=void 0;v.labelAlignTo==="edge"?g.x<t?f=p[2][0]-v.labelDistance-o-v.edgeDistance:f=o+n-v.edgeDistance-p[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?g.x<t?f=c-o-v.bleedMargin:f=o+n-h-v.bleedMargin:g.x<t?f=g.x-o-v.bleedMargin:f=o+n-g.x-v.bleedMargin,v.targetTextWidth=f,Wa(v,f)}}Vr(u,t,e,r,1,n,i,o,s,h),Vr(l,t,e,r,-1,n,i,o,s,c);for(var d=0;d<a.length;d++){var v=a[d];if(!vt(v)&&v.linePoints){var g=v.label,p=v.linePoints,y=v.labelAlignTo==="edge",m=g.style.padding,x=m?m[1]+m[3]:0,b=g.style.backgroundColor?0:x,_=v.rect.width+b,S=p[1][0]-p[2][0];y?g.x<t?p[2][0]=o+v.edgeDistance+_+v.labelDistance:p[2][0]=o+n-v.edgeDistance-_-v.labelDistance:(g.x<t?p[2][0]=g.x+v.labelDistance:p[2][0]=g.x-v.labelDistance,p[1][0]=p[2][0]+S),p[1][1]=p[2][1]=g.y}}}function Wa(a,t,e){if(e===void 0&&(e=!1),a.labelStyleWidth==null){var r=a.label,n=r.style,i=a.rect,o=n.backgroundColor,s=n.padding,l=s?s[1]+s[3]:0,u=n.overflow,c=i.width+(o?0:l);if(t<c||e){var h=i.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",o)}else{var g=t-l,v=t<c?g:e?g>a.unconstrainedWidth?null:g:null;r.setStyle("width",v)}var p=r.getBoundingRect();i.width=p.width;var f=(r.style.margin||0)+2.1;i.height=p.height+f,i.y-=(i.height-h)/2}}}function vt(a){return a.position==="center"}function Qi(a){var t=a.getData(),e=[],r,n,i=!1,o=(a.get("minShowLabelAngle")||0)*qi,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,h=s.y,d=s.height;function g(S){S.ignore=!0}function v(S){if(!S.ignore)return!0;for(var w in S.states)if(S.states[w].ignore===!1)return!0;return!1}t.each(function(S){var w=t.getItemGraphicEl(S),A=w.shape,D=w.getTextContent(),T=w.getTextGuideLine(),M=t.getItemModel(S),I=M.getModel("label"),L=I.get("position")||M.get(["emphasis","label","position"]),B=I.get("distanceToLabelLine"),R=I.get("alignTo"),Y=X(I.get("edgeDistance"),u),Z=I.get("bleedMargin"),P=M.getModel("labelLine"),E=P.get("length");E=X(E,u);var N=P.get("length2");if(N=X(N,u),Math.abs(A.endAngle-A.startAngle)<o){C(D.states,g),D.ignore=!0,T&&(C(T.states,g),T.ignore=!0);return}if(v(D)){var V=(A.startAngle+A.endAngle)/2,G=Math.cos(V),oe=Math.sin(V),Ce,We,ir,Fe;r=A.cx,n=A.cy;var de=L==="inside"||L==="inner";if(L==="center")Ce=A.cx,We=A.cy,Fe="center";else{var st=(de?(A.r+A.r0)/2*G:A.r*G)+r,lt=(de?(A.r+A.r0)/2*oe:A.r*oe)+n;if(Ce=st+G*3,We=lt+oe*3,!de){var or=st+G*(E+l-A.r),sr=lt+oe*(E+l-A.r),lr=or+(G<0?-1:1)*N,ur=sr;R==="edge"?Ce=G<0?c+Y:c+u-Y:Ce=lr+(G<0?-B:B),We=ur,ir=[[st,lt],[or,sr],[lr,ur]]}Fe=de?"center":R==="edge"?G>0?"right":"left":G>0?"left":"right"}var De=Math.PI,ge=0,Me=I.get("rotate");if(tt(Me))ge=Me*(De/180);else if(L==="center")ge=0;else if(Me==="radial"||Me===!0){var dn=G<0?-V+De:-V;ge=dn}else if(Me==="tangential"&&L!=="outside"&&L!=="outer"){var pe=Math.atan2(G,oe);pe<0&&(pe=De*2+pe);var gn=oe>0;gn&&(pe=De+pe),ge=pe-De}if(i=!!ge,D.x=Ce,D.y=We,D.rotation=ge,D.setStyle({verticalAlign:"middle"}),de){D.setStyle({align:Fe});var ut=D.states.select;ut&&(ut.x+=D.x,ut.y+=D.y)}else{var Te=D.getBoundingRect().clone();Te.applyTransform(D.getComputedTransform());var cr=(D.style.margin||0)+2.1;Te.y-=cr/2,Te.height+=cr,e.push({label:D,labelLine:T,position:L,len:E,len2:N,minTurnAngle:P.get("minTurnAngle"),maxSurfaceAngle:P.get("maxSurfaceAngle"),surfaceNormal:new At(G,oe),linePoints:ir,textAlign:Fe,labelDistance:B,labelAlignTo:R,edgeDistance:Y,bleedMargin:Z,rect:Te,unconstrainedWidth:Te.width,labelStyleWidth:D.style.width})}w.setTextConfig({inside:de})}}),!i&&a.get("avoidLabelOverlap")&&Ji(e,r,n,l,u,d,c,h);for(var p=0;p<e.length;p++){var f=e[p],y=f.label,m=f.labelLine,x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:f.textAlign}),x&&(C(y.states,g),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(m){var _=f.linePoints;x||!_?(C(m.states,g),m.ignore=!0):(Zn(_,f.minTurnAngle),Wn(_,f.surfaceNormal,f.maxSurfaceAngle),m.setShape({points:_}),y.__hostTarget.textGuideLineConfig={anchor:new At(_[0][0],_[0][1])})}}}var eo=function(a){O(t,a);function t(e,r,n){var i=a.call(this)||this;i.z2=2;var o=new ce;return i.setTextContent(o),i.updateData(e,r,n,!0),i}return t.prototype.updateData=function(e,r,n,i){var o=this,s=e.hostModel,l=e.getItemModel(r),u=l.getModel("emphasis"),c=e.getItemLayout(r),h=H(Ee(l.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){o.setShape(h);return}if(i){o.setShape(h);var d=s.getShallow("animationType");s.ecModel.ssr?(ue(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):d==="scale"?(o.shape.r=c.r0,ue(o,{shape:{r:c.r}},s,r)):n!=null?(o.setShape({startAngle:n,endAngle:n}),ue(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,re(o,{shape:{endAngle:c.endAngle}},s,r))}else fa(o),re(o,{shape:h},s,r);o.useStyle(e.getItemVisual(r,"style")),_a(o,l);var g=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),p=Math.cos(g)*v,f=Math.sin(g)*v,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,e,r),o.ensureState("emphasis").shape=H({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Ee(u.getModel("itemStyle"),c)),H(o.ensureState("select"),{x:p,y:f,shape:Ee(l.getModel(["select","itemStyle"]),c)}),H(o.ensureState("blur"),{shape:Ee(l.getModel(["blur","itemStyle"]),c)});var m=o.getTextGuideLine(),x=o.getTextContent();m&&H(m.ensureState("select"),{x:p,y:f}),H(x.ensureState("select"),{x:p,y:f}),ba(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,r,n){var i=this,o=r.getItemModel(n),s=o.getModel("labelLine"),l=r.getItemVisual(n,"style"),u=l&&l.fill,c=l&&l.opacity;Wt(i,xa(o),{labelFetcher:r.hostModel,labelDataIndex:n,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(n,"normal")||r.getName(n)});var h=i.getTextContent();i.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var d=e.get(["label","position"]);if(d!=="outside"&&d!=="outer")i.removeTextGuideLine();else{var g=this.getTextGuideLine();g||(g=new Ft,this.setTextGuideLine(g)),Hn(this,Xn(o),{stroke:u,opacity:Yn(s.get(["lineStyle","opacity"]),c,1)})}},t}(rt),to=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,r,n,i){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<o.count();++h)c=o.getItemLayout(h);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var d=Za(e),g=new rt({shape:H(Ga(e,n),d)});g.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,l.add(g)}o.diff(s).add(function(v){var p=new eo(o,v,u);o.setItemGraphicEl(v,p),l.add(p)}).update(function(v,p){var f=s.getItemGraphicEl(p);f.updateData(o,v,u),f.off("click"),l.add(f),o.setItemGraphicEl(v,f)}).remove(function(v){var p=s.getItemGraphicEl(v);St(p,e,v)}).execute(),Qi(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var n=r.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,s=e[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(ma);function ro(a,t,e){t=Q(t)&&{coordDimensions:t}||H({encodeDefine:a.getEncode()},t);var r=a.getSource(),n=Un(r,t).dimensions,i=new $n(n,a);return i.initData(r,e),i}var ao=function(){function a(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},a.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)},a}(),no=at(),io=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new ao(k(this.getData,this),k(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ro(this,{coordDimensions:["value"],encodeDefaulter:z(Kn,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),n=no(r),i=n.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),i=n.seats=jn(o,r.hostModel.get("percentPrecision"))}var s=a.prototype.getDataParams.call(this,e);return s.percent=i[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){qn(e,"labelLine",["show"]);var r=e.labelLine,n=e.emphasis.labelLine;r.show=r.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Zt);function oo(a){return{seriesType:a,reset:function(t,e){var r=t.getData();r.filterSelf(function(n){var i=r.mapDimension("value"),o=r.get(i,n);return!(tt(o)&&!isNaN(o)&&o<0)})}}}function so(a){a.registerChartView(to),a.registerSeriesModel(io),Jn("pie",a.registerAction),a.registerLayout(z(Ki,"pie")),a.registerProcessor(ji("pie")),a.registerProcessor(oo("pie"))}var zr="\0_ec_interaction_mutex";function lo(a,t,e){var r=Ut(a);r[t]=e}function uo(a,t,e){var r=Ut(a),n=r[t];n===e&&(r[t]=null)}function Nr(a,t){return!!Ut(a)[t]}function Ut(a){return a[zr]||(a[zr]={})}nt({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qn);var co=function(a){O(t,a);function t(e){var r=a.call(this)||this;r._zr=e;var n=k(r._mousedownHandler,r),i=k(r._mousemoveHandler,r),o=k(r._mouseupHandler,r),s=k(r._mousewheelHandler,r),l=k(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=we(K(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!yr(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var n=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!je("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||Nr(this._zr,"globalPan"))){var r=e.offsetX,n=e.offsetY,i=this._x,o=this._y,s=r-i,l=n-o;this._x=r,this._y=n,this._opt.preventDefaultMouseMove&&qe(e.event),Fa(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:i,oldY:o,newX:r,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){yr(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=je("zoomOnMouseWheel",e,this._opt),n=je("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),s=e.offsetX,l=e.offsetY;if(!(i===0||!r&&!n)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=i>0?u:1/u;dt(this,"zoom","zoomOnMouseWheel",e,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(n){var h=Math.abs(i),d=(i>0?1:-1)*(h>3?.4:h>1?.15:.05);dt(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Nr(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;dt(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(Sa);function dt(a,t,e,r,n){a.pointerChecker&&a.pointerChecker(r,n.originX,n.originY)&&(qe(r.event),Fa(a,t,e,r,n))}function Fa(a,t,e,r,n){n.isAvailableBehavior=k(je,null,e,r),a.trigger(t,n)}function je(a,t,e){var r=e[a];return!a||r&&(!ee(r)||t.event[r+"Key"])}var ho={axisPointer:1,tooltip:1,brush:1};function vo(a,t,e){var r=t.getComponentByElement(a.topTarget),n=r&&r.coordinateSystem;return r&&r!==e&&!ho.hasOwnProperty(r.mainType)&&n&&n.model!==e}function Ze(a,t,e,r,n,i){a=a||0;var o=e[1]-e[0];if(n!=null&&(n=me(n,[0,o])),i!=null&&(i=Math.max(i,n??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=me(s,[0,o]),n=i=me(s,[n,i]),r=0}t[0]=me(t[0],e),t[1]=me(t[1],e);var l=gt(t,r);t[r]+=a;var u=n||0,c=e.slice();l.sign<0?c[0]+=u:c[1]-=u,t[r]=me(t[r],c);var h;return h=gt(t,r),n!=null&&(h.sign!==l.sign||h.span<n)&&(t[1-r]=t[r]+l.sign*n),h=gt(t,r),i!=null&&h.span>i&&(t[1-r]=t[r]+h.sign*i),t}function gt(a,t){var e=a[t]-a[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function me(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var he=!0,Ne=Math.min,Se=Math.max,go=Math.pow,po=1e4,fo=6,mo=6,Gr="globalPan",yo={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},xo={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Zr={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},bo=0,_o=function(a){O(t,a);function t(e){var r=a.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new ae,r._uid="brushController_"+bo++,C(To,function(n,i){this._handlers[i]=k(n,this)},r),r}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||lo(r,Gr,this._uid),C(this._handlers,function(n,i){r.on(i,n)}),this._brushType=e.brushType,this._brushOption=j(K(Zr),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;uo(e,Gr,this._uid),C(this._handlers,function(r,n){e.off(n,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};C(e,function(n){r[n.panelId]=K(n)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=F(e,function(d){return j(K(Zr),d,!0)});var r="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new Aa(n,e,u,l).add(c).update(c).remove(h).execute(),this;function l(d,g){return(d.id!=null?d.id:r+g)+"-"+d.brushType}function u(d,g){return l(d.__brushOption,g)}function c(d,g){var v=e[d];if(g!=null&&n[g]===s)i[d]=n[g];else{var p=i[d]=g!=null?(n[g].__brushOption=v,n[g]):Ya(o,Ha(o,v));$t(o,p)}}function h(d){n[d]!==s&&o.group.remove(n[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),Mt(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Sa);function Ha(a,t){var e=it[t.brushType].createCover(a,t);return e.__brushOption=t,Ua(e,t),a.group.add(e),e}function Ya(a,t){var e=Kt(t);return e.endCreating&&(e.endCreating(a,t),Ua(t,t.__brushOption)),t}function Xa(a,t){var e=t.__brushOption;Kt(t).updateCoverShape(a,t,e.range,e)}function Ua(a,t){var e=t.z;e==null&&(e=po),a.traverse(function(r){r.z=e,r.z2=e})}function $t(a,t){Kt(t).updateCommon(a,t),Xa(a,t)}function Kt(a){return it[a.__brushOption.brushType]}function jt(a,t,e){var r=a._panels;if(!r)return he;var n,i=a._transform;return C(r,function(o){o.isTargetByCursor(t,e,i)&&(n=o)}),n}function $a(a,t){var e=a._panels;if(!e)return he;var r=t.__brushOption.panelId;return r!=null?e[r]:he}function Mt(a){var t=a._covers,e=t.length;return C(t,function(r){a.group.remove(r)},a),t.length=0,!!e}function ve(a,t){var e=F(a._covers,function(r){var n=r.__brushOption,i=K(n.range);return{brushType:n.brushType,panelId:n.panelId,range:i}});a.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function So(a){var t=a._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],n=e[0]-r[0],i=e[1]-r[1],o=go(n*n+i*i,.5);return o>fo}function Ka(a){var t=a.length-1;return t<0&&(t=0),[a[0],a[t]]}function ja(a,t,e,r){var n=new ae;return n.add(new $({name:"main",style:qt(e),silent:!0,draggable:!0,cursor:"move",drift:z(Wr,a,t,n,["n","s","w","e"]),ondragend:z(ve,t,{isEnd:!0})})),C(r,function(i){n.add(new $({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:z(Wr,a,t,n,i),ondragend:z(ve,t,{isEnd:!0})}))}),n}function qa(a,t,e,r){var n=r.brushStyle.lineWidth||0,i=Se(n,mo),o=e[0][0],s=e[1][0],l=o-n/2,u=s-n/2,c=e[0][1],h=e[1][1],d=c-i+n/2,g=h-i+n/2,v=c-o,p=h-s,f=v+n,y=p+n;J(a,t,"main",o,s,v,p),r.transformable&&(J(a,t,"w",l,u,i,y),J(a,t,"e",d,u,i,y),J(a,t,"n",l,u,f,i),J(a,t,"s",l,g,f,i),J(a,t,"nw",l,u,i,i),J(a,t,"ne",d,u,i,i),J(a,t,"sw",l,g,i,i),J(a,t,"se",d,g,i,i))}function Tt(a,t){var e=t.__brushOption,r=e.transformable,n=t.childAt(0);n.useStyle(qt(e)),n.attr({silent:!r,cursor:r?"move":"default"}),C([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=t.childOfName(i.join("")),s=i.length===1?Lt(a,i[0]):wo(a,i);o&&o.attr({silent:!r,invisible:!r,cursor:r?xo[s]+"-resize":null})})}function J(a,t,e,r,n,i,o){var s=t.childOfName(e);s&&s.setShape(Do(Jt(a,t,[[r,n],[r+i,n+o]])))}function qt(a){return we({strokeNoScale:!0},a.brushStyle)}function Ja(a,t,e,r){var n=[Ne(a,e),Ne(t,r)],i=[Se(a,e),Se(t,r)];return[[n[0],i[0]],[n[1],i[1]]]}function Ao(a){return Ht(a.group)}function Lt(a,t){var e={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},n=Ca(e[t],Ao(a));return r[n]}function wo(a,t){var e=[Lt(a,t[0]),Lt(a,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Wr(a,t,e,r,n,i){var o=e.__brushOption,s=a.toRectRange(o.range),l=Qa(t,n,i);C(r,function(u){var c=yo[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=a.fromRectRange(Ja(s[0][0],s[1][0],s[0][1],s[1][1])),$t(t,e),ve(t,{isEnd:!1})}function Co(a,t,e,r){var n=t.__brushOption.range,i=Qa(a,e,r);C(n,function(o){o[0]+=i[0],o[1]+=i[1]}),$t(a,t),ve(a,{isEnd:!1})}function Qa(a,t,e){var r=a.group,n=r.transformCoordToLocal(t,e),i=r.transformCoordToLocal(0,0);return[n[0]-i[0],n[1]-i[1]]}function Jt(a,t,e){var r=$a(a,t);return r&&r!==he?r.clipPath(e,a._transform):K(e)}function Do(a){var t=Ne(a[0][0],a[1][0]),e=Ne(a[0][1],a[1][1]),r=Se(a[0][0],a[1][0]),n=Se(a[0][1],a[1][1]);return{x:t,y:e,width:r-t,height:n-e}}function Mo(a,t,e){if(!(!a._brushType||Lo(a,t.offsetX,t.offsetY))){var r=a._zr,n=a._covers,i=jt(a,t,e);if(!a._dragging)for(var o=0;o<n.length;o++){var s=n[o].__brushOption;if(i&&(i===he||s.panelId===i.panelId)&&it[s.brushType].contain(n[o],e[0],e[1]))return}i&&r.setCursorStyle("crosshair")}}function It(a){var t=a.event;t.preventDefault&&t.preventDefault()}function Rt(a,t,e){return a.childOfName("main").contain(t,e)}function en(a,t,e,r){var n=a._creatingCover,i=a._creatingPanel,o=a._brushOption,s;if(a._track.push(e.slice()),So(a)||n){if(i&&!n){o.brushMode==="single"&&Mt(a);var l=K(o);l.brushType=Fr(l.brushType,i),l.panelId=i===he?null:i.panelId,n=a._creatingCover=Ha(a,l),a._covers.push(n)}if(n){var u=it[Fr(a._brushType,i)],c=n.__brushOption;c.range=u.getCreatingRange(Jt(a,n,a._track)),r&&(Ya(a,n),u.updateCommon(a,n)),Xa(a,n),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&jt(a,t,e)&&Mt(a)&&(s={isEnd:r,removeOnClick:!0});return s}function Fr(a,t){return a==="auto"?t.defaultBrushType:a}var To={mousedown:function(a){if(this._dragging)Hr(this,a);else if(!a.target||!a.target.draggable){It(a);var t=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var e=this._creatingPanel=jt(this,a,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(a){var t=a.offsetX,e=a.offsetY,r=this.group.transformCoordToLocal(t,e);if(Mo(this,a,r),this._dragging){It(a);var n=en(this,a,r,!1);n&&ve(this,n)}},mouseup:function(a){Hr(this,a)}};function Hr(a,t){if(a._dragging){It(t);var e=t.offsetX,r=t.offsetY,n=a.group.transformCoordToLocal(e,r),i=en(a,t,n,!0);a._dragging=!1,a._track=[],a._creatingCover=null,i&&ve(a,i)}}function Lo(a,t,e){var r=a._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}var it={lineX:Yr(0),lineY:Yr(1),rect:{createCover:function(a,t){function e(r){return r}return ja({toRectRange:e,fromRectRange:e},a,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var t=Ka(a);return Ja(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(a,t,e,r){qa(a,t,e,r)},updateCommon:Tt,contain:Rt},polygon:{createCover:function(a,t){var e=new ae;return e.add(new Ft({name:"main",style:qt(t),silent:!0})),e},getCreatingRange:function(a){return a},endCreating:function(a,t){t.remove(t.childAt(0)),t.add(new wa({name:"main",draggable:!0,drift:z(Co,a,t),ondragend:z(ve,a,{isEnd:!0})}))},updateCoverShape:function(a,t,e,r){t.childAt(0).setShape({points:Jt(a,t,e)})},updateCommon:Tt,contain:Rt}};function Yr(a){return{createCover:function(t,e){return ja({toRectRange:function(r){var n=[r,[0,100]];return a&&n.reverse(),n},fromRectRange:function(r){return r[a]}},t,e,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){var e=Ka(t),r=Ne(e[0][a],e[1][a]),n=Se(e[0][a],e[1][a]);return[r,n]},updateCoverShape:function(t,e,r,n){var i,o=$a(t,e);if(o!==he&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(a);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-a]]}var l=[r,i];a&&l.reverse(),qa(t,e,l,n)},updateCommon:Tt,contain:Rt}}function Io(a){return a=Qt(a),function(t){return ei(t,a)}}function Ro(a,t){return a=Qt(a),function(e){var r=t??e,n=r?a.width:a.height,i=r?a.x:a.y;return[i,i+(n||0)]}}function Po(a,t,e){var r=Qt(a);return function(n,i){return r.contain(i[0],i[1])&&!vo(n,t,e)}}function Qt(a){return ti.create(a)}const Oo=Nt({__name:"index",props:{option:{}},setup(a){return ne([Ma,so]),da(Ta,"light"),(t,e)=>(Be(),Gt(le(Da),{class:"chart",option:t.option,autoresize:""},null,8,["option"]))}});var Xr=["x","y","radius","angle","single"],ko=["cartesian2d","polar","singleAxis"];function Eo(a){var t=a.get("coordinateSystem");return ie(ko,t)>=0}function te(a){return a+"Axis"}function Bo(a,t){var e=q(),r=[],n=q();a.eachComponent({mainType:"dataZoom",query:t},function(c){n.get(c.uid)||s(c)});var i;do i=!1,a.eachComponent("dataZoom",o);while(i);function o(c){!n.get(c.uid)&&l(c)&&(s(c),i=!0)}function s(c){n.set(c.uid,!0),r.push(c),u(c)}function l(c){var h=!1;return c.eachTargetAxis(function(d,g){var v=e.get(d);v&&v[g]&&(h=!0)}),h}function u(c){c.eachTargetAxis(function(h,d){(e.get(h)||e.set(h,[]))[d]=!0})}return r}function tn(a){var t=a.ecModel,e={infoList:[],infoMap:q()};return a.eachTargetAxis(function(r,n){var i=t.getComponent(te(r),n);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(i)}}}),e}var pt=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},a}(),Ge=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,r,n){var i=Ur(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var r=Ur(e);j(this.option,e,!0),j(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;C([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(r[i[0]]=n[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=q(),n=this._fillSpecifiedTargetAxis(r);n?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return C(Xr,function(n){var i=this.getReferringComponents(te(n),ri);if(i.specified){r=!0;var o=new pt;C(i.models,function(s){o.add(s.componentIndex)}),e.set(n,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var n=this.ecModel,i=!0;if(i){var o=r==="vertical"?"y":"x",s=n.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=n.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var h=u[0];if(h){var d=new pt;if(d.add(h.componentIndex),e.set(c,d),i=!1,c==="x"||c==="y"){var g=h.getReferringComponents("grid",Je).models[0];g&&C(u,function(v){h.componentIndex!==v.componentIndex&&g===v.getReferringComponents("grid",Je).models[0]&&d.add(v.componentIndex)})}}}i&&C(Xr,function(u){if(i){var c=n.findComponents({mainType:te(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var h=new pt;h.add(c[0].componentIndex),e.set(u,h),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,n=this.get("rangeMode");C([["start","startValue"],["end","endValue"]],function(i,o){var s=e[i[0]]!=null,l=e[i[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":n?r[o]=n[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,n){e==null&&(e=this.ecModel.getComponent(te(r),n))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(n,i){C(n.indexList,function(o){e.call(r,i,o)})})},t.prototype.getAxisProxy=function(e,r){var n=this.getAxisModel(e,r);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[r])return this.ecModel.getComponent(te(e),r)},t.prototype.setRawRange=function(e){var r=this.option,n=this.settledOption;C([["start","startValue"],["end","endValue"]],function(i){(e[i[0]]!=null||e[i[1]]!=null)&&(r[i[0]]=n[i[0]]=e[i[0]],r[i[1]]=n[i[1]]=e[i[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;C(["start","startValue","end","endValue"],function(n){r[n]=e[n]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(e==null&&r==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(e,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Yt);function Ur(a){var t={};return C(["start","end","startValue","endValue","throttle"],function(e){a.hasOwnProperty(e)&&(t[e]=a[e])}),t}var Vo=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Ge),er=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n,i){this.dataZoomModel=e,this.ecModel=r,this.api=n},t.type="dataZoom",t}(Xt),zo=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(er),xe=C,$r=Oe,No=function(){function a(t,e,r,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=r}return a.prototype.hostedBy=function(t){return this._dataZoomModel===t},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Eo(e)){var r=te(this._dimName),n=e.getReferringComponents(r,Je).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}},this),t},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return K(this._minMaxSpan)},a.prototype.calculateDataWindow=function(t){var e=this._dataExtent,r=this.getAxisModel(),n=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;xe(["start","end"],function(d,g){var v=t[d],p=t[d+"Value"];i[g]==="percent"?(v==null&&(v=o[g]),p=n.parse(W(v,o,e))):(u=!0,p=p==null?e[g]:n.parse(p),v=W(p,e,o)),l[g]=p==null||isNaN(p)?e[g]:p,s[g]=v==null||isNaN(v)?o[g]:v}),$r(l),$r(s);var c=this._minMaxSpan;u?h(l,s,e,o,!1):h(s,l,o,e,!0);function h(d,g,v,p,f){var y=f?"Span":"ValueSpan";Ze(0,d,v,"all",c["min"+y],c["max"+y]);for(var m=0;m<2;m++)g[m]=W(d[m],v,p,!0),f&&(g[m]=n.parse(g[m]))}return{valueWindow:l,percentWindow:s}},a.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Go(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var r=this._dimName,n=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;xe(n,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(i==="weakFilter"){var h=u.getStore(),d=F(c,function(g){return u.getDimensionIndex(g)},u);u.filterSelf(function(g){for(var v,p,f,y=0;y<c.length;y++){var m=h.get(d[y],g),x=!isNaN(m),b=m<o[0],_=m>o[1];if(x&&!b&&!_)return!0;x&&(f=!0),b&&(v=!0),_&&(p=!0)}return f&&v&&p})}else xe(c,function(g){if(i==="empty")l.setData(u=u.map(g,function(p){return s(p)?p:NaN}));else{var v={};v[g]=o,u.selectRange(v)}});xe(c,function(g){u.setApproximateExtent(o,g)})}});function s(l){return l>=o[0]&&l<=o[1]}},a.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;xe(["min","max"],function(n){var i=e.get(n+"Span"),o=e.get(n+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=W(r[0]+o,r,[0,100],!0):i!=null&&(o=W(i,[0,100],r,!0)-r[0]),t[n+"Span"]=i,t[n+"ValueSpan"]=o},this)},a.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var n=ai(r,[0,500]);n=Math.min(n,20);var i=t.axis.scale.rawExtentInfo;e[0]!==0&&i.setDeterminedMinMax("min",+r[0].toFixed(n)),e[1]!==100&&i.setDeterminedMinMax("max",+r[1].toFixed(n)),i.freeze()}},a}();function Go(a,t,e){var r=[1/0,-1/0];xe(e,function(o){ni(r,o.getData(),t)});var n=a.getAxisModel(),i=ii(n.axis.scale,n,r).calculate();return[i.min,i.max]}var Zo={getTargetSeries:function(a){function t(n){a.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=a.getComponent(te(o),s);n(o,s,l,i)})})}t(function(n,i,o,s){o.__dzAxisProxy=null});var e=[];t(function(n,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new No(n,i,s,a),e.push(o.__dzAxisProxy))});var r=q();return C(e,function(n){C(n.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(a,t){a.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,n){e.getAxisProxy(r,n).reset(e)}),e.eachTargetAxis(function(r,n){e.getAxisProxy(r,n).filterData(e,t)})}),a.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var n=r.getDataPercentWindow(),i=r.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};function Wo(a){a.registerAction("dataZoom",function(t,e){var r=Bo(e,t);C(r,function(n){n.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Kr=!1;function tr(a){Kr||(Kr=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,Zo),Wo(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Fo(a){a.registerComponentModel(Vo),a.registerComponentView(zo),tr(a)}var U=function(){function a(){}return a}(),rn={};function Le(a,t){rn[a]=t}function an(a){return rn[a]}var Ho=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;C(this.option.feature,function(r,n){var i=an(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),j(r,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Yt);function Yo(a,t,e){var r=t.getBoxLayoutParams(),n=t.get("padding"),i={width:e.getWidth(),height:e.getHeight()},o=ze(r,i,n);be(t.get("orient"),a,t.get("itemGap"),o.width,o.height),oi(a,r,i,n)}function nn(a,t){var e=si(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),a=new $({shape:{x:a.x-e[3],y:a.y-e[0],width:a.width+e[1]+e[3],height:a.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),a}var Xo=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,r,n,i){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",u=e.get("feature")||{},c=this._features||(this._features={}),h=[];C(u,function(v,p){h.push(p)}),new Aa(this._featureNames||[],h).add(d).update(d).remove(z(d,null)).execute(),this._featureNames=h;function d(v,p){var f=h[v],y=h[p],m=u[f],x=new La(m,e,e.ecModel),b;if(i&&i.newTitle!=null&&i.featureName===f&&(m.title=i.newTitle),f&&!y){if(Uo(f))b={onclick:x.option.onclick,featureName:f};else{var _=an(f);if(!_)return;b=new _}c[f]=b}else if(b=c[y],!b)return;b.uid=li("toolbox-feature"),b.model=x,b.ecModel=r,b.api=n;var S=b instanceof U;if(!f&&y){S&&b.dispose&&b.dispose(r,n);return}if(!x.get("show")||S&&b.unusable){S&&b.remove&&b.remove(r,n);return}g(x,b,f),x.setIconStatus=function(w,A){var D=this.option,T=this.iconPaths;D.iconStatus=D.iconStatus||{},D.iconStatus[w]=A,T[w]&&(A==="emphasis"?xr:br)(T[w])},b instanceof U&&b.render&&b.render(x,r,n,i)}function g(v,p,f){var y=v.getModel("iconStyle"),m=v.getModel(["emphasis","iconStyle"]),x=p instanceof U&&p.getIcons?p.getIcons():v.get("icon"),b=v.get("title")||{},_,S;ee(x)?(_={},_[f]=x):_=x,ee(b)?(S={},S[f]=b):S=b;var w=v.iconPaths={};C(_,function(A,D){var T=Ia(A,{},{x:-s/2,y:-s/2,width:s,height:s});T.setStyle(y.getItemStyle());var M=T.ensureState("emphasis");M.style=m.getItemStyle();var I=new ce({style:{text:S[D],align:m.get("textAlign"),borderRadius:m.get("textBorderRadius"),padding:m.get("textPadding"),fill:null,font:ui({fontStyle:m.get("textFontStyle"),fontFamily:m.get("textFontFamily"),fontSize:m.get("textFontSize"),fontWeight:m.get("textFontWeight")},r)},ignore:!0});T.setTextContent(I),Ra({el:T,componentModel:e,itemName:D,formatterParamsExtra:{title:S[D]}}),T.__title=S[D],T.on("mouseover",function(){var L=m.getItemStyle(),B=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";I.setStyle({fill:m.get("textFill")||L.fill||L.stroke||"#000",backgroundColor:m.get("textBackgroundColor")}),T.setTextConfig({position:m.get("textPosition")||B}),I.ignore=!e.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",D])!=="emphasis"&&n.leaveEmphasis(this),I.hide()}),(v.get(["iconStatus",D])==="emphasis"?xr:br)(T),o.add(T),T.on("click",k(p.onclick,p,r,n,D)),w[D]=T})}Yo(o,e,n),o.add(nn(o.getBoundingRect(),e)),l||o.eachChild(function(v){var p=v.__title,f=v.ensureState("emphasis"),y=f.textConfig||(f.textConfig={}),m=v.getTextContent(),x=m&&m.ensureState("emphasis");if(x&&!_e(x)&&p){var b=x.style||(x.style={}),_=ci(p,ce.makeFont(b)),S=v.x+o.x,w=v.y+o.y+s,A=!1;w+_.height>n.getHeight()&&(y.position="top",A=!0);var D=A?-5-_.height:s+10;S+_.width/2>n.getWidth()?(y.position=["100%",D],b.align="right"):S-_.width/2<0&&(y.position=[0,D],b.align="left")}})},t.prototype.updateView=function(e,r,n,i){C(this._features,function(o){o instanceof U&&o.updateView&&o.updateView(o.model,r,n,i)})},t.prototype.remove=function(e,r){C(this._features,function(n){n instanceof U&&n.remove&&n.remove(e,r)}),this.group.removeAll()},t.prototype.dispose=function(e,r){C(this._features,function(n){n instanceof U&&n.dispose&&n.dispose(e,r)})},t.type="toolbox",t}(Xt);function Uo(a){return a.indexOf("my")===0}var $o=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":n.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),u=hi.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=i+"."+s,c.target="_blank",c.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),g=d[0].indexOf("base64")>-1,v=o?decodeURIComponent(d[1]):d[1];g&&(v=window.atob(v));var p=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var f=v.length,y=new Uint8Array(f);f--;)y[f]=v.charCodeAt(f);var m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,p)}else{var x=document.createElement("iframe");document.body.appendChild(x);var b=x.contentWindow,_=b.document;_.open("image/svg+xml","replace"),_.write(v),_.close(),b.focus(),_.execCommand("SaveAs",!0,p),document.body.removeChild(x)}}else{var S=n.get("lang"),w='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',A=window.open();A.document.write(w),A.document.title=i}},t.getDefaultOption=function(e){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},t}(U),jr="__ec_magicType_stack__",Ko=[["line","bar"],["stack"]],jo=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),n={};return C(e.get("type"),function(i){r[i]&&(n[i]=r[i])}),n},t.getDefaultOption=function(e){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},t.prototype.onclick=function(e,r,n){var i=this.model,o=i.get(["seriesIndex",n]);if(qr[n]){var s={series:[]},l=function(h){var d=h.subType,g=h.id,v=qr[n](d,g,h,i);v&&(we(v,h.option),s.series.push(v));var p=h.coordinateSystem;if(p&&p.type==="cartesian2d"&&(n==="line"||n==="bar")){var f=p.getAxesByScale("ordinal")[0];if(f){var y=f.dim,m=y+"Axis",x=h.getReferringComponents(m,Je).models[0],b=x.componentIndex;s[m]=s[m]||[];for(var _=0;_<=b;_++)s[m][b]=s[m][b]||{};s[m][b].boundaryGap=n==="bar"}}};C(Ko,function(h){ie(h,n)>=0&&C(h,function(d){i.setIconStatus(d,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=n;n==="stack"&&(u=j({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",n])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(U),qr={line:function(a,t,e,r){if(a==="bar")return j({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(a,t,e,r){if(a==="line")return j({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(a,t,e,r){var n=e.get("stack")===jr;if(a==="line"||a==="bar")return r.setIconStatus("stack",n?"normal":"emphasis"),j({id:t,stack:n?"":jr},r.get(["option","stack"])||{},!0)}};nt({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,t){t.mergeOption(a.newOption)});var ot=new Array(60).join("-"),Ae="	";function qo(a){var t={},e=[],r=[];return a.eachRawSeries(function(n){var i=n.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(n)}else e.push(n)}else e.push(n)}),{seriesGroupByCategoryAxis:t,other:e,meta:r}}function Jo(a){var t=[];return C(a,function(e,r){var n=e.categoryAxis,i=e.valueAxis,o=i.dim,s=[" "].concat(F(e.series,function(g){return g.name})),l=[n.model.getCategories()];C(e.series,function(g){var v=g.getRawData();l.push(g.getRawData().mapArray(v.mapDimension(o),function(p){return p}))});for(var u=[s.join(Ae)],c=0;c<l[0].length;c++){for(var h=[],d=0;d<l.length;d++)h.push(l[d][c]);u.push(h.join(Ae))}t.push(u.join(`
`))}),t.join(`

`+ot+`

`)}function Qo(a){return F(a,function(t){var e=t.getRawData(),r=[t.name],n=[];return e.each(e.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=e.getName(o),l=0;l<i-1;l++)n[l]=arguments[l];r.push((s?s+Ae:"")+n.join(Ae))}),r.join(`
`)}).join(`

`+ot+`

`)}function es(a){var t=qo(a);return{value:Pa([Jo(t.seriesGroupByCategoryAxis),Qo(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+ot+`

`),meta:t.meta}}function Qe(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ts(a){var t=a.slice(0,a.indexOf(`
`));if(t.indexOf(Ae)>=0)return!0}var Pt=new RegExp("["+Ae+"]+","g");function rs(a){for(var t=a.split(/\n+/g),e=Qe(t.shift()).split(Pt),r=[],n=F(e,function(l){return{name:l,data:[]}}),i=0;i<t.length;i++){var o=Qe(t[i]).split(Pt);r.push(o.shift());for(var s=0;s<o.length;s++)n[s]&&(n[s].data[i]=o[s])}return{series:n,categories:r}}function as(a){for(var t=a.split(/\n+/g),e=Qe(t.shift()),r=[],n=0;n<t.length;n++){var i=Qe(t[n]);if(i){var o=i.split(Pt),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[n]={name:s,value:[]},l=r[n].value):l=r[n]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[n].value=l[0]:r[n]=l[0])}}return{name:e,data:r}}function ns(a,t){var e=a.split(new RegExp(`
*`+ot+`
*`,"g")),r={series:[]};return C(e,function(n,i){if(ts(n)){var o=rs(n),s=t[i],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=as(n);r.series.push(o)}}),r}var is=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var n=r.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var h=i.get("optionToContent"),d=i.get("contentToOption"),g=es(e);if(_e(h)){var v=h(r.getOption());ee(v)?u.innerHTML=v:vi(v)&&u.appendChild(v)}else{c.readOnly=i.get("readOnly");var p=c.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=i.get("textColor"),p.borderColor=i.get("textareaBorderColor"),p.backgroundColor=i.get("textareaColor"),c.value=g.value,u.appendChild(c)}var f=g.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),b=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var _=this;function S(){n.removeChild(o),_._dom=null}_r(x,"click",S),_r(b,"click",function(){if(d==null&&h!=null||d!=null&&h==null){S();return}var w;try{_e(d)?w=d(u,r.getOption()):w=ns(c.value,f)}catch(A){throw S(),new Error("Data view format error "+A)}w&&r.dispatchAction({type:"changeDataView",newOption:w}),S()}),x.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=x.style.cssText=m,!i.get("readOnly")&&y.appendChild(b),y.appendChild(x),o.appendChild(s),o.appendChild(u),o.appendChild(y),u.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},t.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.getDefaultOption=function(e){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},t}(U);function os(a,t){return F(a,function(e,r){var n=t&&t[r];if(Sr(n)&&!Q(n)){var i=Sr(e)&&!Q(e);i||(e={value:e});var o=n.name!=null&&e.name==null;return e=we(e,n),o&&delete e.name,e}else return e})}nt({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,t){var e=[];C(a.newOption.series,function(r){var n=t.getSeriesByName(r.name)[0];if(!n)e.push(H({type:"scatter"},r));else{var i=n.get("data");e.push({name:r.name,data:os(r.data,i)})}}),t.mergeOption(we({series:e},a.newOption))});var on=C,sn=at();function ss(a,t){var e=rr(a);on(t,function(r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o[n])break}if(i<0){var s=a.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(s){var l=s.getPercentRange();e[0][n]={dataZoomId:n,start:l[0],end:l[1]}}}}),e.push(t)}function ls(a){var t=rr(a),e=t[t.length-1];t.length>1&&t.pop();var r={};return on(e,function(n,i){for(var o=t.length-1;o>=0;o--)if(n=t[o][i],n){r[i]=n;break}}),r}function us(a){sn(a).snapshots=null}function cs(a){return rr(a).length}function rr(a){var t=sn(a);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var hs=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){us(e),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return r},t}(U);nt({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,t){t.resetOption("recreate")});var vs=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ln=function(){function a(t,e,r){var n=this;this._targetInfoList=[];var i=Jr(e,t);C(ds,function(o,s){(!r||!r.include||ie(r.include,s)>=0)&&o(i,n._targetInfoList)})}return a.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(r,n,i){if((r.coordRanges||(r.coordRanges=[])).push(n),!r.coordRange){r.coordRange=n;var o=ft[r.brushType](0,i,n);r.__rangeOffset={offset:ra[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},a.prototype.matchOutputRanges=function(t,e,r){C(t,function(n){var i=this.findTargetInfo(n,e);i&&i!==!0&&C(i.coordSyses,function(o){var s=ft[n.brushType](1,o,n.range,!0);r(n,s.values,o,e)})},this)},a.prototype.setInputRanges=function(t,e){C(t,function(r){var n=this.findTargetInfo(r,e);if(r.range=r.range||[],n&&n!==!0){r.panelId=n.panelId;var i=ft[r.brushType](0,n.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?ra[r.brushType](i.values,o.offset,gs(i.xyMinMax,o.xyMinMax)):i.values}},this)},a.prototype.makePanelOpts=function(t,e){return F(this._targetInfoList,function(r){var n=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:Io(n),isTargetByCursor:Po(n,t,r.coordSysModel),getLinearBrushOtherExtent:Ro(n)}})},a.prototype.controlSeries=function(t,e,r){var n=this.findTargetInfo(t,r);return n===!0||n&&ie(n.coordSyses,e.coordinateSystem)>=0},a.prototype.findTargetInfo=function(t,e){for(var r=this._targetInfoList,n=Jr(e,t),i=0;i<r.length;i++){var o=r[i],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<Qr.length;l++)if(Qr[l](n,o))return o}return!0},a}();function Ot(a){return a[0]>a[1]&&a.reverse(),a}function Jr(a,t){return Oa(a,t,{includeMainTypes:vs})}var ds={grid:function(a,t){var e=a.xAxisModels,r=a.yAxisModels,n=a.gridModels,i=q(),o={},s={};!e&&!r&&!n||(C(e,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),C(r,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),C(n,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,c=[];C(u.getCartesians(),function(h,d){(ie(e,h.getAxis("x").model)>=0||ie(r,h.getAxis("y").model)>=0)&&c.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:ea.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(a,t){C(a.geoModels,function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:ea.geo})})}},Qr=[function(a,t){var e=a.xAxisModel,r=a.yAxisModel,n=a.gridModel;return!n&&e&&(n=e.axis.grid.model),!n&&r&&(n=r.axis.grid.model),n&&n===t.gridModel},function(a,t){var e=a.geoModel;return e&&e===t.geoModel}],ea={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,t=a.getBoundingRect().clone();return t.applyTransform(Ht(a)),t}},ft={lineX:z(ta,0),lineY:z(ta,1),rect:function(a,t,e,r){var n=a?t.pointToData([e[0][0],e[1][0]],r):t.dataToPoint([e[0][0],e[1][0]],r),i=a?t.pointToData([e[0][1],e[1][1]],r):t.dataToPoint([e[0][1],e[1][1]],r),o=[Ot([n[0],i[0]]),Ot([n[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(a,t,e,r){var n=[[1/0,-1/0],[1/0,-1/0]],i=F(e,function(o){var s=a?t.pointToData(o,r):t.dataToPoint(o,r);return n[0][0]=Math.min(n[0][0],s[0]),n[1][0]=Math.min(n[1][0],s[1]),n[0][1]=Math.max(n[0][1],s[0]),n[1][1]=Math.max(n[1][1],s[1]),s});return{values:i,xyMinMax:n}}};function ta(a,t,e,r){var n=e.getAxis(["x","y"][a]),i=Ot(F([0,1],function(s){return t?n.coordToData(n.toLocalCoord(r[s]),!0):n.toGlobalCoord(n.dataToCoord(r[s]))})),o=[];return o[a]=i,o[1-a]=[NaN,NaN],{values:i,xyMinMax:o}}var ra={lineX:z(aa,0),lineY:z(aa,1),rect:function(a,t,e){return[[a[0][0]-e[0]*t[0][0],a[0][1]-e[0]*t[0][1]],[a[1][0]-e[1]*t[1][0],a[1][1]-e[1]*t[1][1]]]},polygon:function(a,t,e){return F(a,function(r,n){return[r[0]-e[0]*t[n][0],r[1]-e[1]*t[n][1]]})}};function aa(a,t,e,r){return[t[0]-r[a]*e[0],t[1]-r[a]*e[1]]}function gs(a,t){var e=na(a),r=na(t),n=[e[0]/r[0],e[1]/r[1]];return isNaN(n[0])&&(n[0]=1),isNaN(n[1])&&(n[1]=1),n}function na(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var kt=C,ps=gi("toolbox-dataZoom_"),fs=function(a){O(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,r,n,i){this._brushController||(this._brushController=new _o(n.getZr()),this._brushController.on("brush",k(this._onBrush,this)).mount()),xs(e,r,this,i,n),ys(e,r)},t.prototype.onclick=function(e,r,n){ms[n].call(this)},t.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var r=e.areas;if(!e.isEnd||!r.length)return;var n={},i=this.ecModel;this._brushController.updateCovers([]);var o=new ln(ar(this.model),i,{include:["grid"]});o.matchOutputRanges(r,i,function(u,c,h){if(h.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",h,c[0]),s("y",h,c[1])):s({lineX:"x",lineY:"y"}[d],h,c)}}),ss(i,n),this._dispatchZoomAction(n);function s(u,c,h){var d=c.getAxis(u),g=d.model,v=l(u,g,i),p=v.findRepresentativeAxisProxy(g).getMinMaxSpan();(p.minValueSpan!=null||p.maxValueSpan!=null)&&(h=Ze(0,h.slice(),d.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),v&&(n[v.id]={dataZoomId:v.id,startValue:h[0],endValue:h[1]})}function l(u,c,h){var d;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(g){var v=g.getAxisModel(u,c.componentIndex);v&&(d=g)}),d}},t.prototype._dispatchZoomAction=function(e){var r=[];kt(e,function(n,i){r.push(K(n))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(e){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},t}(U),ms={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(ls(this.ecModel))}};function ar(a){var t={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function ys(a,t){a.setIconStatus("back",cs(t)>1?"emphasis":"normal")}function xs(a,t,e,r,n){var i=e._isZoomActive;r&&r.type==="takeGlobalCursor"&&(i=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),e._isZoomActive=i,a.setIconStatus("zoom",i?"emphasis":"normal");var o=new ln(ar(a),t,{include:["grid"]}),s=o.makePanelOpts(n,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}di("dataZoom",function(a){var t=a.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var r=t.getModel(e),n=[],i=ar(r),o=Oa(a,i);kt(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),kt(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var h=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:ps+u+h};d[c]=h,n.push(d)}return n});function bs(a){a.registerComponentModel(Ho),a.registerComponentView(Xo),Le("saveAsImage",$o),Le("magicType",jo),Le("dataView",is),Le("dataZoom",fs),Le("restore",hs),ne(Fo)}var _s=function(a,t){if(t==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},Et=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,n=this.ecModel;r===!0&&(r=e.selector=["all","inverse"]),Q(r)&&C(r,function(i,o){ee(i)&&(i={type:i}),r[o]=j(i,_s(n,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var r=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],n=[];e.eachRawSeries(function(l){var u=l.name;n.push(u);var c;if(l.legendVisualProvider){var h=l.legendVisualProvider,d=h.getAllNames();e.isSeriesFiltered(l)||(n=n.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&pi(l)&&r.push(l.name)}),this._availableNames=n;var i=this.get("data")||r,o=q(),s=F(i,function(l){return(ee(l)||tt(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new La(l,this,this.ecModel))},this);this._data=Pa(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected,n=this.get("selectedMode");if(n==="single"){var i=this._data;C(i,function(o){r[o.get("name")]=!1})}r[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,r=this.option.selected;C(e,function(n){r[n.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,r=this.option.selected;C(e,function(n){var i=n.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&ie(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Yt),ye=z,Bt=C,Ke=ae,un=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new Ke),this.group.add(this._selectorGroup=new Ke),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,r,n,l,s,u);var c=e.getBoxLayoutParams(),h={width:n.getWidth(),height:n.getHeight()},d=e.get("padding"),g=ze(c,h,d),v=this.layoutInner(e,o,g,i,l,u),p=ze(we({width:v.width,height:v.height},c),h,d);this.group.x=p.x-v.x,this.group.y=p.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=nn(v,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,n,i,o,s,l){var u=this.getContentGroup(),c=q(),h=r.get("selectedMode"),d=[];n.eachRawSeries(function(g){!g.get("legendHoverLink")&&d.push(g.id)}),Bt(r.getData(),function(g,v){var p=g.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var f=new Ke;f.newline=!0,u.add(f);return}var y=n.getSeriesByName(p)[0];if(!c.get(p))if(y){var m=y.getData(),x=m.getVisual("legendLineStyle")||{},b=m.getVisual("legendIcon"),_=m.getVisual("style"),S=this._createItem(y,p,v,g,r,e,x,_,b,h,i);S.on("click",ye(ia,p,null,i,d)).on("mouseover",ye(Vt,y.name,null,i,d)).on("mouseout",ye(zt,y.name,null,i,d)),n.ssr&&S.eachChild(function(w){var A=Ve(w);A.seriesIndex=y.seriesIndex,A.dataIndex=v,A.ssrType="legend"}),c.set(p,!0)}else n.eachRawSeries(function(w){if(!c.get(p)&&w.legendVisualProvider){var A=w.legendVisualProvider;if(!A.containName(p))return;var D=A.indexOfName(p),T=A.getItemVisual(D,"style"),M=A.getItemVisual(D,"legendIcon"),I=fi(T.fill);I&&I[3]===0&&(I[3]=.2,T=H(H({},T),{fill:mi(I,"rgba")}));var L=this._createItem(w,p,v,g,r,e,{},T,M,h,i);L.on("click",ye(ia,null,p,i,d)).on("mouseover",ye(Vt,null,p,i,d)).on("mouseout",ye(zt,null,p,i,d)),n.ssr&&L.eachChild(function(B){var R=Ve(B);R.seriesIndex=w.seriesIndex,R.dataIndex=v,R.ssrType="legend"}),c.set(p,!0)}},this)},this),o&&this._createSelector(o,r,i,s,l)},t.prototype._createSelector=function(e,r,n,i,o){var s=this.getSelectorGroup();Bt(e,function(u){var c=u.type,h=new ce({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(h);var d=r.getModel("selectorLabel"),g=r.getModel(["emphasis","selectorLabel"]);Wt(h,{normal:d,emphasis:g},{defaultText:u.title}),wt(h)})},t.prototype._createItem=function(e,r,n,i,o,s,l,u,c,h,d){var g=e.visualDrawType,v=o.get("itemWidth"),p=o.get("itemHeight"),f=o.isSelected(r),y=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),x=i.get("icon");c=x||c||"roundRect";var b=Ss(c,i,l,u,g,f,d),_=new Ke,S=i.getModel("textStyle");if(_e(e.getLegendIcon)&&(!x||x==="inherit"))_.add(e.getLegendIcon({itemWidth:v,itemHeight:p,icon:c,iconRotate:y,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:m}));else{var w=x==="inherit"&&e.getData().getVisual("symbol")?y==="inherit"?e.getData().getVisual("symbolRotate"):y:0;_.add(As({itemWidth:v,itemHeight:p,icon:c,iconRotate:w,itemStyle:b.itemStyle,symbolKeepAspect:m}))}var A=s==="left"?v+5:-5,D=s,T=o.get("formatter"),M=r;ee(T)&&T?M=T.replace("{name}",r??""):_e(T)&&(M=T(r));var I=f?S.getTextColor():i.get("inactiveColor");_.add(new ce({style:ka(S,{text:M,x:A,y:p/2,fill:I,align:D,verticalAlign:"middle"},{inheritColor:I})}));var L=new $({shape:_.getBoundingRect(),style:{fill:"transparent"}}),B=i.getModel("tooltip");return B.get("show")&&Ra({el:L,componentModel:o,itemName:r,itemTooltipOption:B.option}),_.add(L),_.eachChild(function(R){R.silent=!0}),L.silent=!h,this.getContentGroup().add(_),wt(_),_.__legendDataIndex=n,_},t.prototype.layoutInner=function(e,r,n,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();be(e.get("orient"),l,e.get("itemGap"),n.width,n.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){be("horizontal",u,e.get("selectorItemGap",!0));var d=u.getBoundingRect(),g=[-d.x,-d.y],v=e.get("selectorButtonGap",!0),p=e.getOrient().index,f=p===0?"width":"height",y=p===0?"height":"width",m=p===0?"y":"x";s==="end"?g[p]+=c[f]+v:h[p]+=d[f]+v,g[1-p]+=c[y]/2-d[y]/2,u.x=g[0],u.y=g[1],l.x=h[0],l.y=h[1];var x={x:0,y:0};return x[f]=c[f]+v+d[f],x[y]=Math.max(c[y],d[y]),x[m]=Math.min(0,d[m]+g[1-p]),x}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Xt);function Ss(a,t,e,r,n,i,o){function s(f,y){f.lineWidth==="auto"&&(f.lineWidth=y.lineWidth>0?2:0),Bt(f,function(m,x){f[x]==="inherit"&&(f[x]=y[x])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=a.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");u.decal=!h||h==="inherit"?r.decal:yi(h,o),u.fill==="inherit"&&(u.fill=r[n]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(n==="fill"?r:e).opacity),s(u,r);var d=t.getModel("lineStyle"),g=d.getLineStyle();if(s(g,e),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),g.stroke==="auto"&&(g.stroke=r.fill),!i){var v=t.get("inactiveBorderWidth"),p=u[c];u.lineWidth=v==="auto"?r.lineWidth>0&&p?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),g.stroke=d.get("inactiveColor"),g.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:g}}function As(a){var t=a.icon||"roundRect",e=Ct(t,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return e.setStyle(a.itemStyle),e.rotation=(a.iconRotate||0)*Math.PI/180,e.setOrigin([a.itemWidth/2,a.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function ia(a,t,e,r){zt(a,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:a??t}),Vt(a,t,e,r)}function cn(a){for(var t=a.getZr().storage.getDisplayList(),e,r=0,n=t.length;r<n&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function Vt(a,t,e,r){cn(e)||e.dispatchAction({type:"highlight",seriesName:a,name:t,excludeSeriesId:r})}function zt(a,t,e,r){cn(e)||e.dispatchAction({type:"downplay",seriesName:a,name:t,excludeSeriesId:r})}function ws(a){var t=a.findComponents({mainType:"legend"});t&&t.length&&a.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function Ie(a,t,e){var r=a==="allSelect"||a==="inverseSelect",n={},i=[];e.eachComponent({mainType:"legend",query:t},function(s){r?s[a]():s[a](t.name),oa(s,n),i.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){C(n,function(l,u){s[l?"select":"unSelect"](u)}),oa(s,o)}),r?{selected:o,legendIndex:i}:{name:t.name,selected:o}}function oa(a,t){var e=t||{};return C(a.getData(),function(r){var n=r.get("name");if(!(n===`
`||n==="")){var i=a.isSelected(n);xi(e,n)?e[n]=e[n]&&i:e[n]=i}}),e}function Cs(a){a.registerAction("legendToggleSelect","legendselectchanged",z(Ie,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",z(Ie,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",z(Ie,"inverseSelect")),a.registerAction("legendSelect","legendselected",z(Ie,"select")),a.registerAction("legendUnSelect","legendunselected",z(Ie,"unSelect"))}function hn(a){a.registerComponentModel(Et),a.registerComponentView(un),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,ws),a.registerSubTypeDefaulter("legend",function(){return"plain"}),Cs(a)}var Ds=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,n){var i=Ea(e);a.prototype.init.call(this,e,r,n),sa(this,e,i)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),sa(this,this.option,e)},t.type="legend.scroll",t.defaultOption=et(Et.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Et);function sa(a,t,e){var r=a.getOrient(),n=[1,1];n[r.index]=0,bi(t,e,{type:"box",ignoreSize:!!n})}var la=ae,mt=["width","height"],yt=["x","y"],Ms=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new la),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new la)},t.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,n,i,o,s,l){var u=this;a.prototype.renderInner.call(this,e,r,n,i,o,s,l);var c=this._controllerGroup,h=r.get("pageIconSize",!0),d=Q(h)?h:[h,h];v("pagePrev",0);var g=r.getModel("pageTextStyle");c.add(new ce({name:"pageText",style:{text:"xx/xx",fill:g.getTextColor(),font:g.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(p,f){var y=p+"DataIndex",m=Ia(r.get("pageIcons",!0)[r.getOrient().name][f],{onclick:k(u._pageGo,u,y,r,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});m.name=p,c.add(m)}},t.prototype.layoutInner=function(e,r,n,i,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=mt[u],h=yt[u],d=mt[1-u],g=yt[1-u];o&&be("horizontal",l,e.get("selectorItemGap",!0));var v=e.get("selectorButtonGap",!0),p=l.getBoundingRect(),f=[-p.x,-p.y],y=K(n);o&&(y[c]=n[c]-p[c]-v);var m=this._layoutContentAndController(e,i,y,u,c,d,g,h);if(o){if(s==="end")f[u]+=m[c]+v;else{var x=p[c]+v;f[u]-=x,m[h]-=x}m[c]+=p[c]+v,f[1-u]+=m[g]+m[d]/2-p[d]/2,m[d]=Math.max(m[d],p[d]),m[g]=Math.min(m[g],p[g]+f[1-u]),l.x=f[0],l.y=f[1],l.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,r,n,i,o,s,l,u){var c=this.getContentGroup(),h=this._containerGroup,d=this._controllerGroup;be(e.get("orient"),c,e.get("itemGap"),i?n.width:null,i?null:n.height),be("horizontal",d,e.get("pageButtonItemGap",!0));var g=c.getBoundingRect(),v=d.getBoundingRect(),p=this._showController=g[o]>n[o],f=[-g.x,-g.y];r||(f[i]=c[u]);var y=[0,0],m=[-v.x,-v.y],x=_i(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(p){var b=e.get("pageButtonPosition",!0);b==="end"?m[i]+=n[o]-v[o]:y[i]+=v[o]+x}m[1-i]+=g[s]/2-v[s]/2,c.setPosition(f),h.setPosition(y),d.setPosition(m);var _={x:0,y:0};if(_[o]=p?n[o]:g[o],_[s]=Math.max(g[s],v[s]),_[l]=Math.min(0,v[l]+m[1-i]),h.__rectSize=n[o],p){var S={x:0,y:0};S[o]=Math.max(n[o]-v[o]-x,0),S[s]=_[s],h.setClipPath(new $({shape:S})),h.__rectSize=S[o]}else d.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return w.pageIndex!=null&&re(c,{x:w.contentPosition[0],y:w.contentPosition[1]},p?e:null),this._updatePageInfoView(e,w),_},t.prototype._pageGo=function(e,r,n){var i=this._getPageInfo(r)[e];i!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var n=this._controllerGroup;C(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",d=r[h]!=null,g=n.childOfName(c);g&&(g.setStyle("fill",d?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),g.cursor=d?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;i&&o&&i.setStyle("text",ee(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,s=mt[o],l=yt[o],u=this._findTargetItemIndex(r),c=n.children(),h=c[u],d=c.length,g=d?1:0,v={contentPosition:[n.x,n.y],pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return v;var p=b(h);v.contentPosition[o]=-p.s;for(var f=u+1,y=p,m=p,x=null;f<=d;++f)x=b(c[f]),(!x&&m.e>y.s+i||x&&!_(x,y.s))&&(m.i>y.i?y=m:y=x,y&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=y.i),++v.pageCount)),m=x;for(var f=u-1,y=p,m=p,x=null;f>=-1;--f)x=b(c[f]),(!x||!_(m,x.s))&&y.i<m.i&&(m=y,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=y.i),++v.pageCount,++v.pageIndex),y=x;return v;function b(S){if(S){var w=S.getBoundingRect(),A=w[l]+S[l];return{s:A,e:A+w[s],i:S.__legendDataIndex}}}function _(S,w){return S.e>=w&&S.s<=w+i}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var r,n=this.getContentGroup(),i;return n.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===e&&(r=s)}),r??i},t.type="legend.scroll",t}(un);function Ts(a){a.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(n){n.setScrollDataIndex(r)})})}function Ls(a){ne(hn),a.registerComponentModel(Ds),a.registerComponentView(Ms),Ts(a)}function Is(a){ne(hn),ne(Ls)}var Rs=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=et(Ge.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Ge),nr=at();function Ps(a,t,e){nr(a).coordSysRecordMap.each(function(r){var n=r.dataZoomInfoMap.get(t.uid);n&&(n.getRange=e)})}function Os(a,t){for(var e=nr(a).coordSysRecordMap,r=e.keys(),n=0;n<r.length;n++){var i=r[n],o=e.get(i),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||vn(e,o))}}}function vn(a,t){if(t){a.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function ks(a,t){var e={model:t,containsPoint:z(Bs,t),dispatchAction:z(Es,a),dataZoomInfoMap:null,controller:null},r=e.controller=new co(a.getZr());return C(["pan","zoom","scrollMove"],function(n){r.on(n,function(i){var o=[];e.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[n],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function Es(a,t){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Bs(a,t,e,r){return a.coordinateSystem.containPoint([e,r])}function Vs(a){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return a.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[e+s]>r[e+t]&&(t=s),n=n&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function zs(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=nr(e),n=r.coordSysRecordMap||(r.coordSysRecordMap=q());n.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=tn(i);C(o.infoList,function(s){var l=s.model.uid,u=n.get(l)||n.set(l,ks(e,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=q());c.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),n.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){vn(n,i);return}var c=Vs(l);o.enable(c.controlType,c.opt),o.setPointerChecker(i.containsPoint),Ba(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var Ns=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,r,n){if(a.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),Ps(n,e,{pan:k(xt.pan,this),zoom:k(xt.zoom,this),scrollMove:k(xt.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Os(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(er),xt={zoom:function(a,t,e,r){var n=this.range,i=n.slice(),o=a.axisModels[0];if(o){var s=bt[t](null,[r.originX,r.originY],o,e,a),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/r.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ze(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,n[0]!==i[0]||n[1]!==i[1])return i}},pan:ua(function(a,t,e,r,n,i){var o=bt[r]([i.oldX,i.oldY],[i.newX,i.newY],t,n,e);return o.signal*(a[1]-a[0])*o.pixel/o.pixelLength}),scrollMove:ua(function(a,t,e,r,n,i){var o=bt[r]([0,0],[i.scrollDelta,i.scrollDelta],t,n,e);return o.signal*(a[1]-a[0])*i.scrollDelta})};function ua(a){return function(t,e,r,n){var i=this.range,o=i.slice(),s=t.axisModels[0];if(s){var l=a(o,s,t,e,r,n);if(Ze(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var bt={grid:function(a,t,e,r,n){var i=e.axis,o={},s=n.model.coordinateSystem.getRect();return a=a||[0,0],i.dim==="x"?(o.pixel=t[0]-a[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=t[1]-a[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(a,t,e,r,n){var i=e.axis,o={},s=n.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return a=a?s.pointToCoord(a):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-a[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=t[1]-a[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(a,t,e,r,n){var i=e.axis,o=n.model.coordinateSystem.getRect(),s={};return a=a||[0,0],i.orient==="horizontal"?(s.pixel=t[0]-a[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-a[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};function Gs(a){tr(a),a.registerComponentModel(Rs),a.registerComponentView(Ns),zs(a)}var Zs=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=et(Ge.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Ge),Re=$,ca=7,Ws=1,_t=30,Fs=7,Pe="horizontal",ha="vertical",Hs=5,Ys=["line","bar","candlestick","scatter"],Xs={easing:"cubicOut",duration:100,delay:0},Us=function(a){O(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,r){this.api=r,this._onBrush=k(this._onBrush,this),this._onBrushEnd=k(this._onBrushEnd,this)},t.prototype.render=function(e,r,n,i){if(a.prototype.render.apply(this,arguments),Ba(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Si(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new ae;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,n=e.get("brushSelect"),i=n?Fs:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Pe?{right:s.width-o.x-o.width,top:s.height-_t-ca-i,width:o.width,height:_t}:{right:ca,top:o.y,width:_t,height:o.height},u=Ea(e.option);C(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=l[h])});var c=ze(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===ha&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(n===Pe&&!o?{scaleY:l?1:-1,scaleX:1}:n===Pe&&o?{scaleY:l?1:-1,scaleX:-1}:n===ha&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=r.x-u.x,e.y=r.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new Re({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new Re({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:k(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),n.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var r=this._size,n=this._shadowSize||[],i=e.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==n[0]||r[1]!==n[1]){var h=o.getDataExtent(l),d=(h[1]-h[0])*.3;h=[h[0]-d,h[1]+d];var g=[0,r[1]],v=[0,r[0]],p=[[r[0],0],[0,0]],f=[],y=v[1]/(o.count()-1),m=0,x=Math.round(o.count()/r[0]),b;o.each([l],function(D,T){if(x>0&&T%x){m+=y;return}var M=D==null||isNaN(D)||D==="",I=M?0:W(D,h,g,!0);M&&!b&&T?(p.push([p[p.length-1][0],0]),f.push([f[f.length-1][0],0])):!M&&b&&(p.push([m,0]),f.push([m,0])),p.push([m,I]),f.push([m,I]),m+=y,b=M}),u=this._shadowPolygonPts=p,c=this._shadowPolylinePts=f}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var _=this.dataZoomModel;function S(D){var T=_.getModel(D?"selectedDataBackground":"dataBackground"),M=new ae,I=new wa({shape:{points:u},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),L=new Ft({shape:{points:c},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return M.add(I),M.add(L),M}for(var w=0;w<3;w++){var A=S(w===1);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(r!==!1){var n,i=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();C(l,function(u){if(!n&&!(r!==!0&&ie(Ys,u.get("type"))<0)){var c=i.getComponent(te(o),s).axis,h=$s(o),d,g=u.coordinateSystem;h!=null&&g.getOtherAxis&&(d=g.getOtherAxis(c).inverse),h=u.getData().mapDimension(h),n={thisAxis:c,series:u,thisDim:o,otherDim:h,otherAxisInverse:d}}},this)},this),n}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,n=r.handles=[null,null],i=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),d=r.filler=new Re({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new Re({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:Ws,fill:"rgba(0,0,0,0)"}})),C([0,1],function(x){var b=l.get("handleIcon");!Ai[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var _=Ct(b,-1,0,2,2,null,!0);_.attr({cursor:va(this._orient),draggable:!0,drift:k(this._onDragMove,this,x),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1),z2:5});var S=_.getBoundingRect(),w=l.get("handleSize");this._handleHeight=X(w,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),wt(_);var A=l.get("handleColor");A!=null&&(_.style.fill=A),o.add(n[x]=_);var D=l.getModel("textStyle"),T=l.get("handleLabel")||{},M=T.show||!1;e.add(i[x]=new ce({silent:!0,invisible:!M,style:ka(D,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:D.getTextColor(),font:D.getFont()}),z2:10}))},this);var g=d;if(h){var v=X(l.get("moveHandleSize"),s[1]),p=r.moveHandle=new $({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),f=v*.8,y=r.moveHandleIcon=Ct(l.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);y.silent=!0,y.y=s[1]+v/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(v,10));g=r.moveZone=new $({invisible:!0,shape:{y:s[1]-m,height:v+m}}),g.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),o.add(p),o.add(y),o.add(g)}g.attr({draggable:!0,cursor:va(this._orient),drift:k(this._onDragMove,this,"all"),ondragstart:k(this._showDataInfo,this,!0),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[W(e[0],[0,100],r,!0),W(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=n.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Ze(r,i,o,n.get("zoomLock")?"all":e,s.minSpan!=null?W(s.minSpan,l,o,!0):null,s.maxSpan!=null?W(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Oe([W(i[0],o,l,!0),W(i[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(e){var r=this._displayables,n=this._handleEnds,i=Oe(n.slice()),o=this._size;C([0,1],function(g){var v=r.handles[g],p=this._handleHeight;v.attr({scaleX:p/2,scaleY:p/2,x:n[g]+(g?-1:1),y:o[1]/2-p/2})},this),r.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,i[0],i[1],o[0]],c=0;c<l.length;c++){var h=l[c],d=h.getClipPath();d||(d=new $,h.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var d=Oe(this._handleEnds.slice());g.call(this,0),g.call(this,1);function g(v){var p=Ht(n.handles[v].parent,this.group),f=Ca(v===0?"right":"left",p),y=this._handleWidth/2+Hs,m=Ar([d[v]+(v===0?-y:y),this._size[1]/2],p);i[v].setStyle({x:m[0],y:m[1],verticalAlign:o===Pe?"middle":f,align:o===Pe?f:"center",text:s[v]})}},t.prototype._formatLabel=function(e,r){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=e==null||isNaN(e)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return _e(i)?i(e,s):ee(i)?i.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var r=this.dataZoomModel.get("handleLabel")||{},n=r.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=i.get("show")||!1,s=e||this._dragging?o:n,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,r,n,i){this._dragging=!0,qe(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Ar([r,n],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>r[0]||n[1]<0||n[1]>r[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",n[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var r=e.offsetX,n=e.offsetY;this._brushStart=new At(r,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var n=r.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Oe([W(n.x,o,s,!0),W(n.x+n.width,o,s,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(qe(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new Re({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,r),c=l.transformCoordToLocal(s.x,s.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:h[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Xs:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=tn(this.dataZoomModel).infoList;if(!e&&r.length){var n=r[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var i=this.api.getWidth(),o=this.api.getHeight();e={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return e},t.type="dataZoom.slider",t}(er);function $s(a){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[a]}function va(a){return a==="vertical"?"ns-resize":"ew-resize"}function Ks(a){a.registerComponentModel(Zs),a.registerComponentView(Us),tr(a)}function js(a){ne(Gs),ne(Ks)}const qs=Nt({__name:"index",props:{option:{}},setup(a){return ne([Ma,$i,wi,Ci,Is,bs,js]),da(Ta,"light"),(t,e)=>(Be(),Gt(le(Da),{class:"chart",option:t.option,autoresize:""},null,8,["option"]))}}),Js={class:"container mb10"},Qs={class:"tag"},el={class:"container mb10"},tl={class:"name"},rl={class:"container"},al={name:"statistics"},nl=Nt({...al,setup(a){xn(p=>({"587807e2":c.value}));const{filter:t}=pn(wn()),{incomeTotal:e,payTotal:r,filterMonthData:n}=Ri(),{getLightColor:i}=ke(),o=He("purpose"),s=He("0.00"),l=He({grid:{top:10},series:{type:"pie",radius:["34%","60%"],center:["50%","50%"],data:[],silent:!0,padAngle:2,itemStyle:{borderRadius:2},label:{formatter:"{b} {per|{d}%}",minMargin:5,edgeDistance:10,lineHeight:15,rich:{per:{color:"#999"}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}}),u=He({tooltip:{},grid:{containLabel:!0,left:10,top:10,right:20},yAxis:{type:"value",splitLine:{lineStyle:{color:"#eee"}},axisLabel:{color:"#969799",formatter:p=>Mi(p)}},xAxis:{type:"category",data:[],axisTick:{show:!1},axisLine:{lineStyle:{color:"#ccc"}},axisLabel:{color:"#969799"}},series:{type:"bar",data:[],barMaxWidth:20,itemStyle:{borderRadius:2},label:{formatter:"{b} {per|{d}%}",minMargin:5,edgeDistance:10,lineHeight:15,rich:{per:{color:"#999"}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}}),c=hr(()=>{var p;return((p=Ti.get(t.value.expenses))==null?void 0:p.color)||""});fn(()=>{s.value=t.value.expenses==="income"?e(t.value.month):r(t.value.month),l.value.color=Array.from({length:10}).map((p,f)=>i(c.value,f/6)),u.value.color=c.value});const h=hr(()=>n(t.value.month,t.value.expenses));function d(p){var f,y;return o.value==="purpose"?((f=wr.get(p))==null?void 0:f.icon)||"":((y=Cr.get(p))==null?void 0:y.icon)||""}function g(){const p={};h.value.forEach(m=>{p[m[o.value]]?p[m[o.value]]=p[m[o.value]]+parseFloat(m.price):p[m[o.value]]=parseFloat(m.price)});const f=Mn(Object.values(p)),y=Object.keys(p).map((m,x)=>{var b,_;return{value:p[m],name:o.value==="purpose"?(b=wr.get(m))==null?void 0:b.label:(_=Cr.get(m))==null?void 0:_.label,key:m,per:f[x]}});l.value.series.data=Tn(y,"per").reverse(),v()}function v(){const p={};h.value.forEach(f=>{const y=fr(f.date).format("YYYY-MM-DD");p[y]?p[y]=p[y]+parseFloat(f.price):p[y]=parseFloat(f.price)}),u.value.xAxis.data=Object.keys(p).map(f=>fr(f).format("D")),u.value.series.data=Object.values(p)}return vr(()=>t.value.expenses,g,{immediate:!0}),vr(()=>t.value.month,g),mn(()=>{g()}),(p,f)=>{const y=Sn,m=Di,x=Dn;return Be(),dr(gr,null,[fe(Pi),se("div",Js,[se("div",Qs,[fe(Oi,{options:le(Li)(le(Ii)),value:o.value,"onUpdate:value":f[0]||(f[0]=b=>o.value=b),onChange:g,activeColor:c.value},null,8,["options","value","activeColor"])]),fe(Oo,{option:l.value},null,8,["option"])]),se("div",el,[(Be(!0),dr(gr,null,yn(l.value.series.data,b=>(Be(),Gt(x,{value:"￥"+le(Cn)(b.value),"is-link":"",center:"",to:{path:"/purposeTotal",query:{title:b.name,key:b.key,total:b.value,date:le(t).month,expenses:le(t).expenses,statisticsType:o.value}}},{icon:pr(()=>[se("div",{class:"icon-purpose",style:_n({"--color":c.value})},[fe(y,{name:d(b.key)},null,8,["name"])],4)]),title:pr(()=>[se("div",tl,bn(b.name),1),fe(m,{percentage:b.per,"show-pivot":!1,color:c.value},null,8,["percentage","color"])]),_:2},1032,["value","to"]))),256))]),se("div",rl,[f[1]||(f[1]=se("div",{class:"big-title"},"每日对比",-1)),fe(qs,{option:u.value},null,8,["option"])])],64)}}}),hl=An(nl,[["__scopeId","data-v-ba55f4f8"]]);export{hl as default};
